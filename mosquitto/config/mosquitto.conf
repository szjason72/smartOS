# Mosquitto MQTT Broker 配置文件
# SmartOS 本地开发环境

# 监听端口
listener 1883
protocol mqtt

# WebSocket 监听端口（可选）
listener 9001
protocol websockets

# 允许匿名连接（开发环境）
allow_anonymous true

# 持久化配置
persistence true
persistence_location /mosquitto/data/

# 日志配置
log_dest file /mosquitto/log/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information

# 连接日志
connection_messages true

# 保留消息
retained_persistence true

# 自动保存间隔（秒）
autosave_interval 60

# 最大连接数
max_connections -1

# 最大消息大小（字节）
message_size_limit 0

# 最大队列消息数
max_queued_messages 1000

# 客户端ID长度限制
max_clientid_length 23

# 心跳间隔（秒）
keepalive_interval 60

# 清理会话
clean_session true
